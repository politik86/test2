(function(jQuery){jQuery.fn.filestyle=function(options){var settings={width:250};if(options){jQuery.extend(settings,options);};return this.each(function(){var self=this;var wrapper=jQuery("<div>").css({"width":settings.imagewidth+"px","height":settings.imageheight+"px","background":"url("+settings.image+") 0 0 no-repeat","background-position":"right","display":"inline","position":"absolute","overflow":"hidden"});var filename=jQuery('<input class="file">').addClass(jQuery(self).attr("class")).css({"display":"inline","width":settings.width+"%"});jQuery(self).before(filename).before('<br />');jQuery(self).wrap(wrapper);jQuery(self).css({"position":"relative","height":settings.imageheight+"px","width":settings.width+"px","display":"inline","cursor":"pointer","opacity":"0.0"});if(jQuery.browser.mozilla){if(/Win/.test(navigator.platform)){jQuery(self).css("margin-left","-142px");}else{jQuery(self).css("margin-left","-168px");};}else{jQuery(self).css("margin-left",settings.imagewidth-settings.width+"px");};jQuery(self).bind("change",function(){filename.val(jQuery(self).val());});});};})(jQuery);